<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Watchlist</title>
		<link rel="stylesheet" href="../static/css/style.tailwind.css" />
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			rel="stylesheet"
			href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
			integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
			crossorigin=""
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&family=Russo+One&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body onresize="resize()" class="md:h-screen">
		<div
			class="nav flex justify-between text-lg bg-green-300 p-3 h-min sticky top-0"
		>
			<div class="logo">
				<span class="text-white font-bold font-sans">med</span
				><span class="text-cyan-700 font-bold font-sans">Find</span>
			</div>
			<div>
				<div class="block sm:hidden">
					<img
						onclick="navDropDown()"
						class="h-7 ml-auto cursor-pointer"
						src="/src/main/resources/static/images/ui.png"
						alt=""
					/>
				</div>
				<div
					id="dropdown"
					class="links justify-around hidden sm:flex font-bold font-sans text-cyan-700"
				>
					<div><a href="#" class="decoration-none ml-3">Home</a></div>
					<div><a href="#" class="decoration-none ml-3">Send request</a></div>
					<div>
						<a href="#" class="decoration-none ml-3 text-white">Watchlist</a>
					</div>
					<div><a href="#" class="decoration-none ml-3">Contact us</a></div>
				</div>
			</div>
		</div>

		<div
			class="flex flex-col md:flex-row justify-between w-11/12 mx-auto mt-10 sm:mt-3 h-3/4 py-3 mb-10"
		>
			<div
				class="flex flex-col justify-start items-center md:w-1/2 rounded-xl shadow-2xl py-3 px-1 h-72 sm:h-96 md:h-full"
			>
				<div class="topic">MyWatchList</div>
				<div
					class="flex flex-col justify-between items-center w-11/12 rounded-xl p-3 hover:overflow-y-scroll overflow-hidden overflow-x-hidden"
				>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
					<div class="p-1 mx-3 my-1 w-full bg-cyan-200 rounded">
						Medicine name
					</div>
				</div>
				<div class="flex justify-between items-center my-2">
					<input
						type="text"
						class="w-1/2 border-b-black border-b-2 my-2 mx-2 transition:ease-out duration-300 focus:outline-none focus:w-2/3"
						placeholder="insert medicine name"
					/>
					<button
						class="bg-green-300 w-2/3 sm:px-5 py-2 sm:mx-5 hover:bg-cyan-200 rounded-full"
					>
						Add to MyWatchList
					</button>
				</div>
			</div>

			<div
				class="md:w-1/2 flex flex-col items-center rounded-xl shadow-2xl md:mx-5 md:my-10 my-0 h-96 md:h-full"
			>
				<div class="topic">Results</div>
				<div
					th:if="not ${pharmacies}"
					class="items-center mt-10 py-5 rounded-xl shadow-lg md:mx-16 lg:mx-40 h-2/4"
				>
					<p class="text-2xl text-red-500 m-auto w-fit">
						The medicine you searched for in not found!
					</p>
				</div>
				<div
					th:if="${pharmacies}"
					class="flex flex-col justify-center items-center py-5 rounded-xl shadow-lg md:mx-10 lg:mx-10 w-full overflow-scroll"
				>
					<script th:inline="javascript">
						/*<![CDATA[*/
						var coordinates = [];
						/*]]>*/
					</script>
					<div
						th:each="pharmacy : ${pharmacies}"
						class="flex flex-col justify-between items-center w-10/12 rounded-xl my-2 bg-cyan-100 z-20"
					>
						<div class="ml-3" th:text="${pharmacy.name}">Pharmacy name</div>
						<div class="flex justify-between items-center w-full rounded-xl">
							<div
								class="flex flex-col justify-center items-center rounded-xl m-2"
							></div>
							<div
								class="overflow-hidden w-1/3 h-36 bg-yellow-400 rounded-xl mt-0 m-3"
								th:id="map+(${pharmacy.Id})"
							></div>
							<script th:inline="javascript" type="text/javascript">
								/*<![CDATA[*/
								var coords = /*[[${pharmacy.location}]]*/ "0.0,0.0";
								var name = /*[[${pharmacy.name}]]*/ "Unkown";
								var id = String(/*[[${pharmacy.Id}]]*/);

								var user_lon = "9.0436164";
								var user_lat = "38.7601984";

								// console.log(user_lon, user_lat);

								coords = coords
									// .replace("(", "")
									// .replace(")", "")
									// .replace(" ", "")
									.split(",");
								coordinates.push([name, coords[1], coords[0], id]);
								console.log(coordinates);

								/*]]>*/
							</script>
						</div>
					</div>
				</div>
			</div>
			<!-- </div> -->
			<!-- </div> -->
		</div>

		<footer
			class="bg-green-300 flex w-full h-14 items-center justify-between fixed bottom-0 left-0 z-50"
		>
			<p class="ml-8 md:text-lg">privacy policy</p>
			<div class="flex justify-end items-center">
				<a href="#">
					<img
						class="md:h-7 h-5 m-3"
						src="/src/main/resources/static/images/gmail.png"
						alt=""
					/>
				</a>
				<a href="#">
					<img
						class="md:h-7 h-5 m-3"
						src="/src/main/resources/static/images/github.png"
						alt=""
					/>
				</a>
				<a href="#">
					<img
						class="md:h-7 h-5 m-3"
						src="/src/main/resources/static/images/linkedin.png"
						alt=""
					/>
				</a>
				<a href="">
					<img
						class="md:h-7 h-5 m-3"
						src="/src/main/resources/static/images/telegram.png"
						alt=""
					/>
				</a>
				<a href="#">
					<img
						class="md:h-7 h-5 m-3 mr-5"
						src="/src/main/resources/static/images/facebook.png"
						alt=""
					/>
				</a>
			</div>
		</footer>
		<script
			src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
			integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
			crossorigin=""
		></script>
		<script th:src="@{/js/maps.js}" type="text/javascript"></script>
		<script src="../static/js/home.js"></script>
	</body>
</html>
